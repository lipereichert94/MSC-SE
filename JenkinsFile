

    pipeline {

    agent any

    stages {

    stage(‘checkout’) {

    steps {

    git branch: ‘main’, url: ‘https://github.com/lipereichert94/MSC-SE.git’

    }

    }

    stage(‘build’) {

            steps {
                    git url: 'https://github.com/cyrille-leclerc/multi-module-maven-project'
                sh 'mvn -B -DskipTests clean package'
                archive 'target/*.jar' 
            
            }
    
    }

    stage(‘capture’) {

    steps {

    archiveArtifacts ‘**/build/libs/*.jar’

    junit ‘**/build/test-results/test/*.xml’

    // Configure Jacoco for code coverage

    jacoco(execPattern: ‘**/build/jacoco/*.exec’)

    }

    }

    }

    post {

    always {

    // Clean up workspace

    cleanWs()

    }

    success {

    // Notify on success

    echo ‘Build successful!’

    }

    unstable {

    // Notify on unstable build

    echo ‘Build unstable.’

    }

    failure {

    // Notify on failure

    echo ‘Build failed!’

    }

    }

    }


